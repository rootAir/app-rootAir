<div id="accordion">
    <dx-accordion
        #accordion
        [dataSource]="positionLoad"
        [collapsible]="false"
        [multiple]="false"
        [animationDuration]="300"
        [selectedItems]="[positionLoad[0]]">

        <div *dxTemplate="let position of 'title'">
            <div class="box-identificacao">
                <div class="box-title" [style.background-color] = position.colorActive >
                    {{position.percentActive}}
                </div>
                {{position.nameActive}}
            </div>
        </div>
        <div *dxTemplate="let positionItens of 'item'">

            <dx-data-grid id="gridContainer"
                [dataSource]="detailsPosition"
                [masterDetail]="{ enabled: true, template: 'detail' }">
            
                <dxi-column dataField="Prefix" [width]="70" caption="Title"></dxi-column>
                <dxi-column dataField="FirstName"></dxi-column>
                <dxi-column dataField="LastName"></dxi-column>
                <dxi-column dataField="Position" [width]="170"></dxi-column>
                <dxi-column dataField="State" [width]="125"></dxi-column>
                <dxi-column dataField="BirthDate" dataType="date"></dxi-column>
            
                <div *dxTemplate="let employee of 'detail'">
                    <div class="internal-grid-container">
                        <!-- <div>{{employee.data.FirstName + " " + employee.data.LastName + "'s Tasks:"}}</div> -->
                        <dx-data-grid class="internal-grid"
                            [dataSource]="employee.data.Tasks"
                            [showBorders]="true"
                            [columnAutoWidth]="true">
                                <dxi-column dataField="Subject"></dxi-column>
                                <dxi-column dataField="StartDate" dataType="date"></dxi-column>
                                <dxi-column dataField="DueDate" dataType="date"></dxi-column>
                                <dxi-column dataField="Priority"></dxi-column>
                                <dxi-column  dataType="boolean" caption="Completed" [calculateCellValue]="completedValue"></dxi-column>
                        </dx-data-grid>
                    </div>
                </div>
            </dx-data-grid>

        </div>
    </dx-accordion>
</div>